<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body {
            background-color: #ffffff;
            width: 100%;
            height: 700px;
            overflow: hidden;
        }

        span {
            position: absolute;
        }
    </style>
    <script src="jquery-1.12.4.js"></script>
    <script>
        //定义一个颜色数组
        var timeId;
        $(function () {
            function fn() {
                var heart = "❤";
                var colors = ["red", "pink", "blue", "yellow"];
                var colorLength = colors.length;
                var colorNum = colors[Math.floor(Math.random() * colorLength)];
                var randomX = Math.floor(Math.random() * 1366);
                $("<span></span>")
                        .text(heart)
                        .css({
                            color: colorNum,
                            left: randomX,
                            top: 0
                        })
                        .stop()
                        .addClass('xin')
                        .appendTo($('body'));
                for (var i = 1; i <= 12; i++) {
                    var str = (i * 60).toString();
                    var x = i % 2 ? 50 : -50;
                    $(".xin").animate({
                        top: str, left: randomX + x
                    }, 1000, "linear", function () {

                    })
                }
                console.log($('.xin').length);
                if($('.xin').length>=49){
                    $('body').children().first().remove();
                }
            }
            timeId=setInterval(fn, 250);
        });
        clearInterval(timeId);
    </script>
</head>
<body>
</body>
</html>